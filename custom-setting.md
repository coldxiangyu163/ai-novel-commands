---
description: 管理本作品的特殊化设定（不受标准模板约束）
argument-hint: [add/edit/list] [设定类型]
---

# 自定义设定管理：$ARGUMENTS

**用于添加、修改、查看本作品独有的特殊化设定。这些设定不受任何标准模板约束。**

> **核心理念**：模板是起点，不是终点。每部作品都应该有自己的独特之处。

---

## 使用场景

1. **标准模板不适用**：你的设定与模板差异较大
2. **需要创新元素**：想加入标准模板没有的内容
3. **混合题材调整**：需要说明各题材元素如何融合
4. **简化/扩展模板**：部分模板内容需要调整详略

---

## 操作类型

### `/custom-setting add` - 添加新设定

交互式添加新的自定义设定：

```
请选择设定类型：
1. 独特世界观规则
2. 创新元素/机制
3. 对标准模板的调整
4. 独特人物设定
5. 独特剧情机制
6. 其他特殊设定

请输入设定名称：___
请描述这个设定的内容：___
请说明这个设定的作用/意义：___
请说明需要在哪些环节注意这个设定：___
```

### `/custom-setting edit` - 修改现有设定

查看并修改已有的自定义设定。

### `/custom-setting list` - 查看所有设定

列出本作品所有的自定义设定。

---

## 自定义设定模板

### 类型一：独特世界观规则

```markdown
## [规则名称]

### 规则描述
[详细描述这个规则是什么]

### 与标准设定的差异
[说明这个规则与常见同类作品的区别]

### 规则影响
- 对主角的影响：...
- 对剧情的影响：...
- 对世界观的影响：...

### 注意事项
[写作时需要特别注意的点]

### 应用场景示例
[给出1-2个这个规则如何在剧情中体现的例子]
```

### 类型二：创新元素/机制

```markdown
## [元素/机制名称]

### 元素描述
[详细描述这个创新元素]

### 独创性说明
[为什么这是创新的，与其他作品的区别]

### 运作规则
- 基本规则：...
- 限制条件：...
- 特殊情况：...

### 与其他设定的联动
[这个元素如何与作品其他设定配合]

### 爽点/看点
[这个元素能带来什么爽点或看点]
```

### 类型三：对标准模板的调整

```markdown
## 模板调整：[调整内容]

### 原模板内容
[标准模板是怎么规定的]

### 本作品调整
[本作品如何调整]

### 调整原因
[为什么要这样调整]

### 调整后的效果
[调整后对作品的影响]
```

### 类型四：独特人物设定

```markdown
## [人物/人物类型] 特殊设定

### 设定描述
[这个人物有什么独特之处]

### 与标准模板的差异
[与同类作品常见人物的区别]

### 行为准则
[这个人物的特殊行为逻辑]

### 剧情作用
[这个设定如何服务于剧情]
```

### 类型五：独特剧情机制

```markdown
## [机制名称]

### 机制描述
[这个剧情机制是什么]

### 运作方式
[这个机制如何推动剧情]

### 使用时机
[什么时候使用这个机制]

### 注意事项
[使用时需要注意什么]
```

---

## 第一步：读取项目文件

1. `AGENTS.md` - 获取项目基本信息
2. `自定义设定.md` - 获取已有的自定义设定（如存在）
3. `世界观/自定义设定.md` - 获取世界观相关的自定义设定（如存在）

---

## 第二步：根据操作执行

### 如果是 `add`

1. 询问设定类型
2. 根据类型提供对应模板
3. 引导用户填写设定内容
4. 保存到对应文件

### 如果是 `edit`

1. 列出所有现有设定
2. 让用户选择要修改的设定
3. 显示当前内容
4. 引导用户修改
5. 保存修改

### 如果是 `list`

1. 读取所有自定义设定文件
2. 分类展示所有设定
3. 标注每个设定的类型和位置

---

## 第三步：更新相关文件

添加/修改设定后，自动更新：

1. `自定义设定.md` - 根目录的自定义设定汇总
2. `AGENTS.md` - 更新"本作品特殊化设定"章节
3. `世界观/自定义设定.md` - 如果是世界观相关设定

---

## 第四步：输出确认

```
===== 自定义设定更新完成 =====

操作类型：添加/修改/查看
设定名称：XXX
设定类型：XXX

已更新文件：
✓ 自定义设定.md
✓ AGENTS.md（本作品特殊化设定章节）

提示：
- 写作时会自动参考这些自定义设定
- 这些设定优先级高于标准模板
- 使用 /custom-setting list 查看所有设定

=============================
```

---

## 自定义设定汇总文件模板

创建或更新 `自定义设定.md`：

```markdown
# [书名] 自定义设定

> 本文件记录本作品所有独特设定，这些设定**优先级高于标准模板**。
> 写作时应首先参考本文件，再参考标准模板。

## 设定概览

| 设定名称 | 类型 | 简述 | 影响范围 |
|----------|------|------|----------|
| XXX | 世界观规则 | ... | 全书 |
| XXX | 创新元素 | ... | 卷X-卷X |
| XXX | 模板调整 | ... | 特定场景 |

---

## 一、独特世界观规则

### 1.1 [规则名称]
[详细内容]

### 1.2 [规则名称]
[详细内容]

---

## 二、创新元素/机制

### 2.1 [元素名称]
[详细内容]

---

## 三、对标准模板的调整

### 3.1 [调整内容]
[详细内容]

---

## 四、独特人物设定

### 4.1 [人物特殊设定]
[详细内容]

---

## 五、独特剧情机制

### 5.1 [机制名称]
[详细内容]

---

## 六、其他特殊设定

### 6.1 [设定名称]
[详细内容]

---

## 写作提醒

> 以下是写作时需要特别注意的自定义设定要点：

1. [要点1]
2. [要点2]
3. [要点3]
```

---

## 注意事项

1. **自定义设定优先**：当自定义设定与标准模板冲突时，以自定义设定为准
2. **及时更新**：有新想法时随时添加，保持设定文件的更新
3. **保持一致**：自定义设定之间不要相互矛盾
4. **服务剧情**：所有设定都应该服务于故事，不要为设定而设定
5. **写作时参考**：auto-write/batch-write 会自动读取自定义设定文件

---

## 与其他命令的联动

- `/init-novel` - 初始化时可以填写特殊化设定
- `/design-world` - 世界观设计时会读取并可扩展自定义设定
- `/design-characters` - 人物设计时会参考独特人物设定
- `/design-plot` - 剧情设计时会参考独特剧情机制
- `/auto-write` - 写作时自动参考所有自定义设定
- `/check-consistency` - 检查时会验证是否符合自定义设定
