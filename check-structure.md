---
description: 结构完整性检验（必要场景、因果链、镜像结构）
argument-hint: [无参数，自动检验全书]
---

# 结构完整性检验

**大纲写完不等于结构完整。本命令检验故事是否有"必须存在"的场景，以及结构是否完整对称。**

> **核心理念**：
> - 好故事有"必要场景"——删掉它故事就不成立
> - 好结构有"镜像对称"——前后呼应，首尾相连
> - 好逻辑有"因果链条"——每个事件都有前因后果

---

## 第一步：读取项目文件

1. `剧情设计.md` - 全书剧情结构
2. `节拍表.md` - 节拍表设计
3. `小说规划.md` - 总体规划
4. `卷X-卷名/卷X大纲.md` - 各卷大纲
5. `人物档案/[主角]-内核档案.md` - 主角内核（如有）

---

## 第二步：必要场景检验

> **必要场景**：如果删掉这个场景，故事就无法成立的场景

### 2.1 故事骨架必要场景

**每个完整故事必须有以下场景**：

```markdown
## 故事骨架检验

### 必要场景清单

| # | 必要场景 | 功能 | 是否存在 | 位置 | 问题诊断 |
|---|----------|------|----------|------|----------|
| 1 | **日常世界展示** | 展示主角初始状态 | ✓/✗ | 卷X第X章 | |
| 2 | **触发事件** | 打破平衡，故事开始 | ✓/✗ | 卷X第X章 | |
| 3 | **拒绝召唤/犹豫** | 展示改变的代价 | ✓/✗ | 卷X第X章 | |
| 4 | **跨过门槛** | 主角正式踏上旅程 | ✓/✗ | 卷X第X章 | |
| 5 | **遇见导师/盟友** | 获得帮助/建立联系 | ✓/✗ | 卷X第X章 | |
| 6 | **第一次考验** | 证明主角有能力 | ✓/✗ | 卷X第X章 | |
| 7 | **中点反转** | 游戏规则改变 | ✓/✗ | 卷X第X章 | |
| 8 | **最大危机** | 主角跌入谷底 | ✓/✗ | 卷X第X章 | |
| 9 | **灵魂黑夜/顿悟** | 主角找到答案 | ✓/✗ | 卷X第X章 | |
| 10 | **最终对决** | 与终极对手的决战 | ✓/✗ | 卷X第X章 | |
| 11 | **新世界展示** | 展示改变后的状态 | ✓/✗ | 卷X第X章 | |

### 缺失场景处理
**如果有场景缺失**：
- 缺失场景：[哪个？]
- 影响分析：[缺失会导致什么问题？]
- 建议补充：[在哪里补充？如何补充？]
```

### 2.2 人物弧光必要场景

```markdown
## 人物弧光必要场景

### 主角弧光检验
| # | 必要场景 | 功能 | 是否存在 | 位置 |
|---|----------|------|----------|------|
| 1 | **Lie主导场景** | 展示主角相信错误信念 | ✓/✗ | |
| 2 | **Lie首次受挑战** | 有人/事质疑主角信念 | ✓/✗ | |
| 3 | **Ghost行为展示** | 展示创伤导致的行为 | ✓/✗ | |
| 4 | **Lie的"好处"** | 展示Lie如何保护主角 | ✓/✗ | |
| 5 | **Lie的代价** | 展示Lie让主角失去什么 | ✓/✗ | |
| 6 | **Truth萌芽** | 主角开始接触Truth | ✓/✗ | |
| 7 | **Lie vs Truth拉锯** | 在两者间挣扎 | ✓/✗ | |
| 8 | **Lie彻底失效** | Lie无法再保护主角 | ✓/✗ | |
| 9 | **接受Truth** | 主角顿悟/接受真相 | ✓/✗ | |
| 10 | **用Truth行动** | 用行动证明改变 | ✓/✗ | |

### 女主弧光检验（如有感情线）
| # | 必要场景 | 是否存在 | 位置 |
|---|----------|----------|------|
| 1 | 初遇场景 | ✓/✗ | |
| 2 | 建立信任场景 | ✓/✗ | |
| 3 | 心动时刻 | ✓/✗ | |
| 4 | 感情危机/考验 | ✓/✗ | |
| 5 | 关系确认/升华 | ✓/✗ | |
```

### 2.3 反派线必要场景

```markdown
## 反派线必要场景

| # | 必要场景 | 功能 | 是否存在 | 位置 |
|---|----------|------|----------|------|
| 1 | **反派亮相** | 展示反派存在和威胁 | ✓/✗ | |
| 2 | **反派动机揭示** | 让读者理解反派为什么 | ✓/✗ | |
| 3 | **反派展示实力** | 建立反派威胁感 | ✓/✗ | |
| 4 | **主角vs反派首次交锋** | 建立宿敌关系 | ✓/✗ | |
| 5 | **反派占上风** | 反派给主角造成重大打击 | ✓/✗ | |
| 6 | **镜像对照场景** | 展示反派与主角的相似 | ✓/✗ | |
| 7 | **主题辩论场景** | 正题vs反题的对决 | ✓/✗ | |
| 8 | **最终对决** | 主角与反派的终极决战 | ✓/✗ | |
| 9 | **反派结局** | 反派的命运揭晓 | ✓/✗ | |
```

---

## 第三步：场景必要性四重检验

> **每个场景必须至少满足一个功能，否则应该删除或合并**

### 3.1 四重功能检验

```markdown
## 场景必要性检验

### 检验方法
对每个重要场景，问四个问题：

| 功能 | 问题 | 如果"否"的后果 |
|------|------|---------------|
| **推进情节** | 删掉这个场景，后面还能成立吗？ | 这是可有可无的场景 |
| **揭示人物** | 这个场景展示了人物的新面向吗？ | 人物没有得到深化 |
| **发展主题** | 这个场景如何体现/挑战主题？ | 主题没有得到加强 |
| **强化氛围** | 这个场景建立了必要的情绪基础吗？ | 后续情绪缺乏铺垫 |

### 批量检验表
| 场景 | 推进情节 | 揭示人物 | 发展主题 | 强化氛围 | 判定 |
|------|----------|----------|----------|----------|------|
| [场景1] | ✓/✗ | ✓/✗ | ✓/✗ | ✓/✗ | 保留/删除/合并 |
| [场景2] | ✓/✗ | ✓/✗ | ✓/✗ | ✓/✗ | |
| ... | | | | | |

### 问题场景处理
**四个都是✗的场景**：
- 场景：[哪个？]
- 处理建议：删除 / 与其他场景合并 / 增加功能
```

---

## 第四步：因果链检验

> **好故事的事件之间是"因此/但是"连接，而不是"然后"连接**

### 4.1 因果链原则

```markdown
## 因果链检验

### 原则说明

**流水账结构**（❌ 避免）：
事件A 然后→ 事件B 然后→ 事件C 然后→ 事件D

**戏剧结构**（✓ 目标）：
事件A 因此→ 事件B 但是→ 事件C 因此→ 事件D

### 连接词说明
| 连接词 | 含义 | 效果 |
|--------|------|------|
| **然后** | 时间顺序 | 平淡，流水账 |
| **因此** | 因果关系 | 逻辑性，推动力 |
| **但是** | 转折冲突 | 张力，意外 |

### 因果链检验表
| 事件A | 连接词 | 事件B | 判定 |
|-------|--------|-------|------|
| [事件] | 然后/因此/但是 | [事件] | ✓/⚠️ |
| [事件] | 然后/因此/但是 | [事件] | ✓/⚠️ |
| ... | | | |

### 问题诊断
**如果连续3个以上"然后"连接**：
- 问题区域：卷X第X-X章
- 问题：缺乏因果逻辑，是流水账
- 建议：
  - 增加因果关系：[事件A导致事件B]
  - 增加转折冲突：[但是发生了意外]
  - 删除无关事件：[与主线无关的可删]
```

### 4.2 主线因果链检验

```markdown
## 主线因果链

### 全书主线因果链
（用因此/但是连接主要事件）

1. [触发事件] 
   ↓ 因此
2. [主角踏上旅程]
   ↓ 但是
3. [遇到第一个阻碍]
   ↓ 因此
4. [主角成长/获得帮助]
   ↓ 但是
5. [中点反转]
   ↓ 因此
6. [主角改变策略]
   ↓ 但是
7. [最大危机]
   ↓ 因此
8. [主角顿悟]
   ↓ 因此
9. [最终对决]
   ↓ 因此
10. [新的平衡]

### 因果链完整性
| 检验项 | 状态 |
|--------|------|
| 每个事件都有前因？ | ✓/✗ |
| 每个事件都有后果？ | ✓/✗ |
| 没有"凭空出现"的事件？ | ✓/✗ |
| 没有"没有后果"的事件？ | ✓/✗ |
| 因此/但是交替出现？ | ✓/✗ |
```

---

## 第五步：镜像结构检验

> **好结构有对称美：开头与结尾呼应，中点前后对照**

### 5.1 开头-结尾镜像

```markdown
## 开头-结尾镜像检验

### 开场意象 vs 结局意象
| 维度 | 开场意象（第1章） | 结局意象（最后1章） | 呼应关系 |
|------|-------------------|---------------------|----------|
| 主角状态 | [初始状态] | [最终状态] | 对比/升华 |
| 主角信念 | [初始信念/Lie] | [最终信念/Truth] | 转变 |
| 主角处境 | [初始处境] | [最终处境] | 改变 |
| 关键关系 | [初始关系] | [最终关系] | 发展 |
| 核心意象 | [开场的象征物/场景] | [结局的象征物/场景] | 呼应 |
| 情绪基调 | [开场基调] | [结局基调] | 对比/升华 |

### 呼应技巧检验
| 技巧 | 是否使用 | 具体内容 |
|------|----------|----------|
| **相同场景** | ✓/✗ | 开头和结尾在同一地点 |
| **相同台词** | ✓/✗ | 重复某句话但意义不同 |
| **相同动作** | ✓/✗ | 重复某个动作但情境不同 |
| **相同选择** | ✓/✗ | 面对相似选择但做出不同决定 |
| **相同角色** | ✓/✗ | 同一角色的前后对比 |

### 缺失诊断
如果缺乏开头-结尾呼应：
- 问题：故事缺乏"完整感"
- 建议：在结局增加与开场的呼应元素
```

### 5.2 中点对称检验

```markdown
## 中点对称检验

### 中点前 vs 中点后
| 维度 | 中点前 | 中点后 | 对称关系 |
|------|--------|--------|----------|
| 主角态势 | 主动/被动 | 被动/主动 | 反转 |
| 主角认知 | [认知状态] | [认知状态] | 改变 |
| 敌我态势 | [力量对比] | [力量对比] | 变化 |
| 故事基调 | [上升/下降] | [下降/上升] | 反转 |

### 中点反转检验
| 检验项 | 状态 |
|--------|------|
| 中点有明确的反转？ | ✓/✗ |
| 中点改变了"游戏规则"？ | ✓/✗ |
| 中点前后的基调有变化？ | ✓/✗ |
| 读者能感知"进入下半场"？ | ✓/✗ |
```

### 5.3 重复场景检验

```markdown
## 重复场景检验

### 重复场景/意象追踪
| 场景/意象 | 第一次出现 | 再次出现 | 意义变化 |
|-----------|-----------|----------|----------|
| [场景1] | 卷X第X章：[意义] | 卷X第X章：[新意义] | [变化] |
| [场景2] | 卷X第X章：[意义] | 卷X第X章：[新意义] | [变化] |
| [意象1] | 卷X第X章：[意义] | 卷X第X章：[新意义] | [变化] |

### 重复的作用检验
| 检验项 | 状态 |
|--------|------|
| 重复场景有意义变化？ | ✓/✗ |
| 重复能体现人物成长？ | ✓/✗ |
| 重复能强化主题？ | ✓/✗ |
```

---

## 第六步：结构健康度评分

```markdown
## 结构健康度评分

### 必要场景（30分）
- 故事骨架必要场景：_/11（每个3分，满分30取上限）
- 缺失扣分：缺失1个-5分

### 人物弧光场景（20分）
- 主角弧光场景：_/10（每个2分）
- 缺失扣分：缺失1个-3分

### 反派线场景（15分）
- 反派必要场景：_/9（约1.7分/个，满分15）
- 缺失扣分：缺失1个-2分

### 场景必要性（15分）
- 无功能场景数量：_个
- 每有1个无功能场景-3分

### 因果链（10分）
- "然后"连接占比：_%
- >50%：0分 / 30-50%：5分 / <30%：10分

### 镜像结构（10分）
- 开头-结尾呼应：_/5
- 中点对称：_/3
- 重复场景：_/2

### 总分：_/100

| 分数 | 评估 |
|------|------|
| 85-100 | ✅ 结构优秀 |
| 70-84 | ⚠️ 结构及格，有优化空间 |
| <70 | ❌ 结构有问题，需要重大调整 |
```

---

## 第七步：输出结构检验报告

```markdown
# [书名] 结构完整性检验报告

## 一、必要场景检验
### 1.1 故事骨架
[检验结果]

### 1.2 人物弧光
[检验结果]

### 1.3 反派线
[检验结果]

## 二、场景必要性检验
[四重功能检验结果]

## 三、因果链检验
[因果链分析结果]

## 四、镜像结构检验
### 4.1 开头-结尾镜像
[检验结果]

### 4.2 中点对称
[检验结果]

### 4.3 重复场景
[检验结果]

## 五、健康度评分
总分：_/100
评估：[优秀/及格/需调整]

## 六、问题清单与建议
| # | 问题 | 严重程度 | 建议 |
|---|------|----------|------|
| 1 | [问题] | 高/中/低 | [建议] |
| 2 | [问题] | 高/中/低 | [建议] |
| ... | | | |

## 七、优先处理事项
1. [最需要解决的问题]
2. [第二优先]
3. [第三优先]
```

**保存到**：`质量检查/结构完整性报告.md`

---

## 使用时机

```
/design-plot         → 剧情设计
        ↓
/design-beat-sheet   → 节拍表设计
        ↓
/plan-volume ×N      → 各卷大纲
        ↓
/check-structure     → 结构完整性检验 ← 你在这里
        ↓
/check-all-volumes   → 全书一致性检查
```

---

## 注意事项

1. **在大纲完成后使用**：需要有完整大纲才能检验
2. **发现问题要修改**：检验发现的问题应该及时修复
3. **不是机械套用**：必要场景可以变形，但功能不能缺
4. **因果链是核心**：流水账是大纲最常见的问题
5. **镜像增加深度**：呼应让故事有"设计感"

---

## 附录：快速检验清单

| 检验项 | 状态 |
|--------|------|
| 有完整的故事骨架（11个必要场景）？ | |
| 主角弧光有完整的转变过程？ | |
| 反派线有完整的发展？ | |
| 每个场景都有存在的理由？ | |
| 事件之间有因果关系（不是流水账）？ | |
| 开头和结尾有呼应？ | |
| 中点有明确的反转？ | |
| 有重复场景/意象强化主题？ | |
