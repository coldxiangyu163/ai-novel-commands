# 小说创作指令系统 - 完整文档

> 本文档包含系统的详细说明、完整命令参考和进阶使用指南。
> 
> 快速入门请查看 [README.md](../README.md)

---

## 目录

- [从"畅销"到"封神"：三个维度升级](#从畅销到封神三个维度升级)
- [完整创作流程](#完整创作流程)
- [专业编剧系统](#专业编剧系统)
- [命令详解](#命令详解)
- [核心特性详解](#核心特性详解)
- [文件结构](#文件结构)
- [使用技巧](#使用技巧)
- [常见问题](#常见问题)
- [版本历史](#版本历史)

---

## 从"畅销"到"封神"：三个维度升级

> 本系统不仅帮你写爽文，更帮你写有深度的爽文。

### 第一维度：主题辩论（Theme Argument）

**问题**：只有爽点没有内核，读完就忘。

**解决**：`/design-theme` 设计三层主题 + 对手论
- **表层**：爽点（复仇/升级）
- **中层**：情感共鸣（主角的内在渴望）
- **深层**：价值观辩论（正题 vs 反题 → 合题）

**核心设计**：主角代表一种价值观，反派代表相反价值观，高潮是价值观的胜利。

### 第二维度：双轨博弈（Dual-Track Conflict）

**问题**：只有外部冲突（打怪），缺乏内心深度。

**解决**：`/design-plot` 的 A/B 故事架构 + 全书核心抉择
- **A故事**：外部目标（打败谁/得到什么）
- **B故事**：内心成长/关键关系
- **终极二选一**：为了达成A，主角必须牺牲B？

**核心设计**：最精彩的高潮，是主角必须在A和B之间做出撕裂性选择。

### 第三维度：预期违背（Trope Subversion）

**问题**：读者猜得到结局，缺乏惊喜。

**解决**：`/plan-volume` 的预期违背检查（Anti-Trope Check）
- **中点/高潮**：强制进行"读者预判模拟"
- **反套路设计**：常规写法 → 如何违背 → 伏笔支撑

**核心设计**：意料之外，情理之中。

### 三维度覆盖的命令

| 维度 | 核心命令 | 关键模块 |
|------|----------|----------|
| 主题辩论 | `/design-theme` | 正题-反题-合题、主题代价、对手论 |
| 双轨博弈 | `/design-plot` + `/plan-volume` | A/B故事、全书核心抉择、双线编织检查 |
| 预期违背 | `/plan-volume` | 预期违背检查（Anti-Trope Check） |

---

## 完整创作流程

```
┌─────────────────────────────────────────────────────────────┐
���                    第一阶段：项目初始化                        │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
                    /init-novel <书名>
                              │
                              ▼
                    ⭐ /validate-concept ⭐
                       （创意验证）
                              │
              ┌───────────────┴───────────────┐
              ▼                               ▼
        创意评分≥20分                    创意评分<20分
              │                               │
              ▼                               ▼
         继续设计                      返回优化创意

┌─────────────────────────────────────────────────────────────┐
│                    第二阶段：深度设计                          │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
                      ⭐ /design-theme ⭐
                       （主题/代价/对手论）
                              │
        ┌─────────────────────┼─────────────────────┐
        ▼                     ▼                     ▼
  /design-world         /design-style        /design-characters
   世界观设计              风格设计              人物设计
                                                    │
                                                    ▼
                                         ⭐ /design-character-arc
                                         ⭐ /design-antagonist
                                                    │
        └─────────────────────┬─────────────────────┘
                              ▼
                        /design-plot
                          剧情设计
                              │
              ┌───────────────┴───────────────┐
              ▼                               ▼
       🔥 自动生成：节拍表                🔥 自动生成：爆点曲线
       /design-beat-sheet              /design-explosion-curve
              └───────────────┬───────────────┘
                              │
                              ▼
                  ⭐ /design-emotion-map ⭐
                   （情感锚点地图）
                              │
                              ▼
                   ⭐ /design-hook-chain ⭐
                   （钩子链设计）

┌─────────────────────────────────────────────────────────────┐
│                    第三阶段：大纲规划                          │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
              /plan-volume 1 → /plan-volume 2 → ...
                              │
                              ▼
                  🔥 /design-conflict-map 🔥
                    （三维冲突地图检验）
                              │
                              ▼
                  🔥 /design-rhythm-master 🔥
                 （全书节奏总监，每3卷一次）
                              │
                              ▼
                    /check-all-volumes
                      全书一致性检查
                              │
                              ▼
           ⭐ 深度质检：/check-structure + /analyze-promise
                              │
                              ▼
                 ⭐ /design-opening ⭐
                   极致开篇设计（第一卷必用）

┌─────────────────────────────────────────────────────────────┐
│                    第四阶段：智能写作                          │
└─────────────────────────────────────────────────────────────┘
                              │
              ┌───────────────┴───────────────┐
              ▼                               ▼
        精细写作模式                      批量写作模式
              │                               │
              ▼                               ▼
    /auto-write 1 1 [标题]           /batch-write 1 1-5
    (含：伏笔提醒/主线追踪)
                              │
                              ▼
                     /sync-memory <卷号>
                    （归档到全书记忆层）

┌─────────────────────────────────────────────────────────────┐
│                    第五阶段：质量检查与润色                     │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
                  /check-consistency 1 1-10
                      一致性检查
                              │
                              ▼
                    /review-reader 1 1-10
                      读者视角评审
                              │
                              ▼
                  /polish-chapter 1 1-10
                      批量润色
```

---

## 专业编剧系统

> 从好莱坞编剧理论到网文大纲设计的质变

### 核心价值

- **结构科学化**：Blake Snyder 15节拍表 → 200万字有完整戏剧结构
- **冲突丰富化**：三维冲突模型 → 每章有张力，高潮三维叠加
- **爆点系统化**：爆点递进曲线 → 6类爆点持续惊喜
- **节奏可控化**：全书节奏总监 → 长篇不失控，可视化监控
- **质量量化**：7大节奏指标 + 5大冲突指标 → 客观评估

### 7个专业命令

| 命令 | 功能 | 使用时机 |
|------|------|----------|
| `/design-beat-sheet` | 全书节拍表（15个关键节拍） | `/design-plot` 后自动调用 |
| `/design-conflict-map` | 三维冲突地图 | 每卷大纲后 |
| `/design-explosion-curve` | 爆点递进曲线 | `/design-plot` 后自动调用 |
| `/design-dilemma` | 两难抉择设计 | 关键章节按需 |
| `/design-rhythm-master` | 全书节奏总监 | 每3卷运行 |
| `/foreshadow-reminder` | 伏笔智能提醒 | 写作时自动 |
| `/mainline-tracker` | 主线进度追踪 | 每10章自动 |

### 三维冲突模型

| 维度 | 说明 | 示例 |
|------|------|------|
| 外部冲突 | 人vs人/环境 | 敌人追杀、资源争夺 |
| 人际冲突 | 人vs关系 | 理念分歧、信任危机 |
| 内心冲突 | 人vs自己 | 两难抉择、价值观冲突 |

### 六大爆点类型

| 类型 | 情绪效果 | 典型场景 |
|------|---------|---------|
| 打脸 | 爽 | 扮猪吃虎、装逼打脸 |
| 反转 | 震撼 | 盟友是敌人、真相揭示 |
| 揭秘 | 好奇心满足 | 身世揭晓、末世起源 |
| 觉醒 | 燃 | 升级突破、血脉觉醒 |
| 虐心 | 虐 | 队友牺牲、女主被抓 |
| 甜蜜 | 甜 | 表白、确认关系 |

---

## 命令详解

### 一、初始化与验证命令

| 命令 | 参数 | 说明 |
|------|------|------|
| `/init-novel` | `<书名>` | 创建新书项目框架 |
| `/validate-concept` | - | 创意验证，避免自嗨 |
| `/idea-mill` | `[题材关键词]` | 新书灵感工厂（10个候选） |
| `/packaging-kit` | `[卖点/书名草案]` | 包装生产线 |
| `/data-retro` | `[数据/现象]` | 数据复盘 |

### 二、设计命令

| 命令 | 参数 | 说明 |
|------|------|------|
| `/design-theme` | - | 主题设计（三层主题+对手论） |
| `/design-world` | - | 世界观设计 |
| `/design-style` | `[参考作品]` | 风格设计 |
| `/design-characters` | - | 人物设计 |
| `/design-character-arc` | `[角色名]` | 人物内核设计 |
| `/design-antagonist` | `[反派名]` | 深度反派设计 |
| `/design-voice` | `<角色名>` | 角色声音设计 |
| `/design-plot` | - | 剧情设计 |
| `/design-emotion-map` | `[卷号]` | 情感锚点地图 |
| `/design-hook-chain` | `<卷号>/全书` | 钩子链设计 |
| `/design-scene` | `<场景> [卷号] [章号]` | 深度场景设计 |
| `/design-opening` | - | 极致开篇设计 |
| `/design-climax` | `<卷号>` | 卷高潮专项设计 |
| `/custom-setting` | `add/edit/list` | 特殊设定管理 |

### 三、规划命令

| 命令 | 参数 | 说明 |
|------|------|------|
| `/plan-volume` | `<卷号>` | 卷大纲规划 |
| `/plan-chapter` | `<卷号> <章号>` | 章节细纲规划 |
| `/cascade-update` | `<卷号> <章号>` | 级联更新 |
| `/check-all-volumes` | - | 全书大纲检查 |
| `/check-structure` | `[卷号]` | 结构完整性检验 |
| `/analyze-promise` | `[卷号]` | 承诺系统分析 |
| `/check-genre-obligations` | `[卷号]` | 类型约定检验 |
| `/stress-test-outline` | `<卷号>` | 读者视角压力测试 |
| `/fix-outline` | `<卷号>` | 大纲问题修复 |
| `/analyze-benchmark` | `<参考书名>` | 爆款对标分析 |

### 四、写作命令

| 命令 | 参数 | 说明 |
|------|------|------|
| `/write-fast` | `<卷号> <章号>` | 极简快速写作 |
| `/auto-write` | `<卷号> <章号> [标题]` | 完整流程写作 |
| `/write-chapter` | `<卷号> <章号>` | 按细纲写单章 |
| `/batch-write` | `<卷号> <起始>-<结束>` | 批量写作 |
| `/rewrite-chapter` | `<卷号> <章号>` | 重写问题章节 |
| `/update-status` | `init/sync [章号]` | 状态同步 |
| `/sync-memory` | `[卷号]` | 全书记忆同步 |

### 五、检查与润色命令

| 命令 | 参数 | 说明 |
|------|------|------|
| `/check-consistency` | `<卷号> <起始>-<结束>` | 一致性检查 |
| `/check-logic` | `<卷号> <章号>` | 逻辑检查 |
| `/check-volume` | `<卷号>` | 大纲质量检查 |
| `/review-reader` | `<卷号> <起始>-<结束>` | 读者视角评审 |
| `/polish-chapter` | `<卷号> <章号/范围>` | 章节润色 |
| `/polish-dialogue` | `<卷号> <章号/范围>` | 对话专项打磨 |

---

## 核心特性详解

### 混合题材支持

支持主题材 + 副题材组合：

```markdown
### 题材设定
- 主题材：末世（60%）
- 副题材：系统流（25%）+ 后宫（15%）
```

### 自定义设定系统

优先级：`自定义设定 > 标准模板`

使用 `/custom-setting add` 添加独特设定。

### 感情线系统

五阶段发展模型：`相遇 → 相识 → 心动 → 确定 → 考验`

### 分层记忆系统

解决100万字+同质化问题：

| 层级 | 目录 | 核心文件 |
|------|------|----------|
| 近期层 | `动态状态/` | 人物当前状态、叙事手法记录 |
| 卷级层 | `卷X-卷名/` | 章节摘要.md |
| 全书层 | `全书记忆/` | 伏笔、里程碑、套路库等 |

---

## 文件结构

```
[书名]/
├── AGENTS.md              # 写作规范（核心文件）
├── 小说规划.md            # 总体规划
├── 剧情设计.md            # 深度剧情设计
├── 写作风格.md            # 风格设定
├── 人物档案/              # 人物相关
├── 世界观/                # 世界观相关
├── 动态状态/              # 近期层（短期记忆）
├── 全书记忆/              # 全书层（长期记忆）
├── 卷X-卷名/              # 各卷内容
│   ├── 卷X大纲.md
│   ├── 章节摘要.md
│   └── 章节/
└── 质量检查/              # 检查报告
```

---

## 使用技巧

1. **初始化时多花时间**：设定会影响后续所有环节
2. **善用自定义设定**：遇到模板不适合时使用
3. **定期检查一致性**：每5-10章运行 `/check-consistency`
4. **保持文档更新**：发现新设定及时更新档案

---

## 常见问题

**Q: 模板太固定怎么办？**
A: 使用 `/custom-setting add` 添加独特设定。

**Q: 想写混合题材怎么办？**
A: 初始化时设置主题材 + 副题材 + 混合比例。

**Q: 感情线不想要怎么办？**
A: 初始化时选择"否"即可。

**Q: 检查发现问题怎么办？**
A: 检查报告会列出问题和建议，可选择自动修复或手动调整。

---

## 版本历史

### v2.3.4 - 风格铁律强化（2025-12-19）

- 新增 `/write-fast`：极简快速写作命令
- `/auto-write` 风格铁律强化
- AGENTS.md 新增【风格铁律】章节

### v2.3.3

- 三命令自动衔接（idea-mill → packaging-kit → init-novel）
- 新增 `/brainstorm-twist` 创意激发器
- `/plan-volume` 关键节点创意激发
- `/init-novel` 差异化定位 + 卷结构自动规划
- AGENTS.md 大幅精简
- 新增 `/learn-style` 文笔风格学习

### v2.3.2

- 新增 `/idea-mill` 新书灵感工厂

### v2.3.1

- 新增 `/packaging-kit` 包装生产线
- 新增 `/data-retro` 数据复盘

### v2.3.0

- 新增精细写作系统（plan-chapter, write-chapter, rewrite-chapter）
- 新增对话打磨系统（design-voice, polish-dialogue）
- 写作前防护机制

### v2.2.0

- 新增大纲打磨工具链
- 读者心理模型检测

### v2.1.0

- 新增深度人物与结构系统
- 多维度质量检验体系

### v2.0.0

- 新增专业编剧系统
- 引入量化健康指标
- 集成好莱坞编剧理论

---

## 支持的题材

**男频**：末世/废土、玄幻、都市、仙侠、科幻、历史/权谋、军事、游戏、无限流、系统流、赘婿

**女频**：古代言情/宫斗、现代言情/总裁

**其他**：悬疑/推理、恐怖、种田、轻小说
